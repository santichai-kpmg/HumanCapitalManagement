@using HumanCapitalManagement.Models.OldTable
@model PRForm
@{
    ViewBag.Title = "HCM | Create Personel Request Form";
    Layout = "~/Views/Shared/_LPMaster.cshtml";

    long opHC = ViewBag.OperatePlanHC;
    long currHC = ViewBag.HRISHC;

    List<SelectListItem> divLst = ViewBag.DivLst;
    List<SelectListItem> rnkLst = ViewBag.RankLst;
    List<SelectListItem> typeLst = ViewBag.TypeReq;
    List<SelectListItem> HCLst = ViewBag.HClst;
    List<SelectListItem> rtLst = ViewBag.ReqTypeLst;
}

<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>
        Create Personel Request Form
    </h1>
</section>

<!-- Main content -->
<section class="content no-pad-top ">

    @{
        if (Model != null)
        {
            <input type="hidden" id="hdModel" value="@Model.Id" />

            if (Model.Id != 0)
            {
                <table style="width: 1050px;" align="center">
                    <tr>
                        <td><img src="~/images/print.png" height="40px" onclick="printData();" /></td>
                    </tr>
                </table>
                <br />
            }
        }
    }
    <div class="row">
        <div class="col-md-12">
            <!-- general form elements -->
            <div class="box box-primary">

                <!-- /.box-header -->
                <!-- form start -->
                <div class="box-body">
                    @using (Html.BeginForm("submit", "PR", FormMethod.Post, new { enctype = "multipart/form-data" }))
                    {
                        <div id="divPrint" style="width:1050px;margin: 0 auto;">
                            <table class="table table-responsive" style="width:1050px;" align="center">
                                <thead>
                                    <tr>
                                        <td colspan="2" align="center" valign="middle" style="background-color: #1f1f61; color: white; font-size: large; ">Personnel Request Form</td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="width:55%">
                                            <br />
                                            <table style="width:90%;" border="0">
                                                @{
                                                    if (!string.IsNullOrEmpty(Model.RefNo))
                                                    {
                                                        <tr>
                                                            <th style="text-align:right;background-color:#2952a3;color:white;width:200px;vertical-align:middle;border-bottom:1px solid;"><b>Ref No :&nbsp;</b></th>
                                                            <td>
                                                                <div id="divtxtRefNo">
                                                                    @Html.TextBox("txtRefNo", Model.RefNo, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })

                                                                </div>
                                                            </td>
                                                        </tr>
                                                    }
                                                }

                                                <tr>
                                                    <th style="text-align:right;background-color:#2952a3;color:white;width:200px;vertical-align:middle;border-bottom:1px solid;"><b>Group :&nbsp;</b></th>
                                                    <td>
                                                        <div id="divddlDivision">
                                                            @{
                                                                if (string.IsNullOrEmpty(Model.Division))
                                                                {
                                                                    @Html.DropDownList("ddlDivision", divLst, new { @class = "form-control" })
                                                                }
                                                                else
                                                                {
                                                                    @Html.TextBox("txtDivision", Model.Division, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                }
                                                            }
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr style="display : none;">
                                                    <th style="text-align:right;background-color:#2952a3;color:white;width:200px;vertical-align:middle;border-bottom:1px solid;">Company :&nbsp;</th>
                                                    <td>
                                                        @{
                                                            if (string.IsNullOrEmpty(Model.CompanyCode))
                                                            {
                                                                @Html.TextBox("txtCompany", "", new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                            }
                                                            else
                                                            {
                                                                @Html.TextBox("txtCompany", Model.CompanyCode, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                            }
                                                        }
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th style="text-align:right;background-color:#2952a3;color:white;width:200px;vertical-align:middle;border-bottom:1px solid;">Type of Employment :&nbsp;</th>
                                                    <td>
                                                        <div id="divReqType">
                                                            @{
                                                                if (Model.RequestType == null)
                                                                {
                                                                    @Html.DropDownList("ddlReqType", rtLst, new { @class = "form-control" })
                                                                }
                                                                else
                                                                {
                                                                    @Html.TextBox("txtReqType", Model.RequestType.RequestTypeDesc, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                }
                                                            }
                                                        </div>



                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th style="text-align:right;background-color:#2952a3;color:white;width:200px;vertical-align:top;border-bottom:1px solid;">Sub-Team / Report to (if any) :&nbsp;<br /><div style="font-size:smaller;"><i>(e.g. T&L-XXX / Report to Khun XXX)</i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></th>
                                                    <td>
                                                        @{
                                                            if (string.IsNullOrEmpty(Model.RefNo))
                                                            {
                                                                <textarea id="txtRemark" name="txtRemark" class="form-control" rows="8"></textarea>
                                                            }
                                                            else
                                                            {
                                                                <textarea id="txtRemark" name="txtRemark" class="form-control" rows="8" readonly>@Model.Remark</textarea>
                                                                @*<div style="white-space: pre-line; background-color:#f5f5f5; border: 1px solid #ccc;padding : 0.01em 10px; margin : 10px;border-radius:4px;">
                                                                        @Model.Remark
                                                                    </div>*@
                                                            }
                                                        }
                                                    </td>
                                                </tr>
                                                @{
                                                    if (!string.IsNullOrEmpty(Model.rejectReason))
                                                    {
                                                        <tr>
                                                            <th style="text-align:right;background-color:#2952a3;color:white;width:200px;vertical-align:middle;border-bottom:1px solid;">Cancle/Reject reason :&nbsp;</th>
                                                            <td>
                                                                @Html.TextBox("txtReason", Model.rejectReason, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                            </td>
                                                        </tr>
                                                    }
                                                }

                                                @*@{
                                                        if (Model.Id != 0)
                                                        {
                                                            <tr>
                                                                <th style="text-align:right;background-color:#2952a3;color:white;width:200px;vertical-align:middle;"><b>Status :&nbsp;</b></th>
                                                                <td>
                                                                    <div id="divddlDivision">
                                                                        @Html.TextBox("txtStatus", Model.Status.StatusDesc, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        }
                                                    }*@
                                            </table>
                                            <br />
                                            <br />
                                        </td>
                                        <td>
                                            <br />
                                            <table>
                                                <tr>
                                                    <th width="160px">Operating Plan FY @ViewBag.currFY</th>
                                                    <td>:&nbsp; <label id="lblPlanHC">@opHC</label> person(s)</td>
                                                </tr>
                                                <tr>
                                                    <th>Current Headcount</th>
                                                    <td>:&nbsp; <label id="lblCurHC">@currHC</label> person(s)</td>
                                                </tr>
                                                <tr>
                                                    <td style="font-size:smaller;"><i>(As of @DateTime.Now.ToString("dd-MMM-yyyy") )</i></td>
                                                </tr>
                                            </table>
                                            <br />
                                        </td>
                                    </tr>
                                    <tr>
                                        @{
                                            if (Model.Positions.Count == 0)
                                            {
                                                <td>
                                                    <br />
                                                    <div id="divPosition">
                                                        <table style="width: 90%;" border="0">
                                                            <tr>
                                                                <th style="text-align:right;background-color:#6D2077;color:white;width:200px;vertical-align:middle;border-bottom:1px solid;">Position Title :&nbsp;</th>
                                                                <td>
                                                                    <div id="divReqPosTitle">
                                                                        @Html.TextBox("txtReqPosTitle", null, new { @class = "form-control" })
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th style="text-align:right;background-color:#6D2077;color:white;width:200px;vertical-align:middle;border-bottom:1px solid;">
                                                                    <div id="divRankHead">
                                                                        Rank :&nbsp;
                                                                    </div>
                                                                </th>
                                                                <td>
                                                                    <div id="divRank">
                                                                        @Html.DropDownList("ddlRank", rnkLst, new { @class = "form-control" })
                                                                        @Html.Hidden("txtRank", "")
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th style="text-align:right;background-color:#6D2077;color:white;width:200px;vertical-align:middle;border-bottom:1px solid;">Target Period :&nbsp;</th>
                                                                <td>
                                                                    <div id="divPeriod" class="input-group date" data-provide="datepicker" data-date-format='dd-M-yyyy'>
                                                                        <input id="dpPeriod" name="dpPeriod" type="text" class="form-control" style="background-color:white;" readonly>
                                                                        <div class="input-group-addon">
                                                                            <span class="glyphicon glyphicon-calendar"></span>
                                                                        </div>
                                                                    </div>

                                                                    <div id="divPeriodTo" class="input-group date" data-provide="datepicker" data-date-format='dd-M-yyyy' style="display:none;">
                                                                        <input id="dpPeriodTo" name="dpPeriodTo" type="text" class="form-control" style="background-color:white;" readonly>
                                                                        <div class="input-group-addon">
                                                                            <span class="glyphicon glyphicon-calendar"></span>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th style="text-align:right;background-color:#6D2077;color:white;width:200px;vertical-align:middle;border-bottom:1px solid;">No. of Headcount :&nbsp;</th>
                                                                <td>
                                                                    <div id="divHC">
                                                                        @Html.DropDownList("ddlHC", HCLst, new { @class = "form-control" })
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th style="text-align:right;background-color:#6D2077;color:white;width:200px;vertical-align:middle;border-bottom:1px solid;">Type of Request :&nbsp;</th>
                                                                <td>
                                                                    <div id="divType">
                                                                        <div id="divddlType">
                                                                            @Html.DropDownList("ddlType", typeLst, new { @class = "form-control" })
                                                                        </div>
                                                                        <div id="divFixType" style="display:none">
                                                                            @Html.TextBox("txtType", "", new { @class = "form-control" })
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td colspan="2">&nbsp;</td>
                                                            </tr>
                                                            <tr>
                                                                <td colspan="2">
                                                                    <div id="divPosSpecify">
                                                                        Please specify the name of person being replaced :<br />
                                                                        <div id="divSpecify">
                                                                            @Html.TextBox("txtSpecific", null, new { id = "txtSpecific", @class = "form-control" })
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                        <br />

                                                        @*<hr style="border: 0; height: 1px; background-image: -webkit-linear-gradient(left, #f0f0f0, #8c8b8b, #f0f0f0); background-image: -moz-linear-gradient(left, #f0f0f0, #8c8b8b, #f0f0f0); background-image: -ms-linear-gradient(left, #f0f0f0, #8c8b8b, #f0f0f0); background-image: -o-linear-gradient(left, #f0f0f0, #8c8b8b, #f0f0f0); " />*@
                                                        @*<button id="btnAdd" class="btn btn-primary">ADD</button><br /><br />*@
                                                        @*<table border="0" cellpadding="3" cellspacing="3" style="width:98%;">
                                                                <tr>
                                                                    <td><b style="color:red;">Remark :</b> In the same request, it can contain many ranks by clicking “ADD”. However, if the Job description is totally different in each rank, the new request is required.</td>
                                                                </tr>
                                                            </table>*@
                                                    </div>
                                                    <div id="divMassDetail" style="display : none;">
                                                        @{
                                                            Position posi;
                                                            <fieldset>
                                                                <dl class="dl-horizontal">
                                                                    <dt style="vertical-align:middle;">
                                                                        Type of Request :
                                                                    </dt>
                                                                    <dd>
                                                                        <div id="divMassTOR">
                                                                            @if (Model.RequestType != null)
                                                                            {
                                                                                if (Model.RequestType.RequestTypeDesc.Contains("Mass Recruitment") && Model.RequestType.RequestTypeDesc.Contains("Staff"))
                                                                                {
                                                                                    @Html.Label("lblMassStaff", "Mass (Staff)", new { @class = "form-control" })
                                                                                }
                                                                                else if (Model.RequestType.RequestTypeDesc.Contains("Mass Recruitment") && Model.RequestType.RequestTypeDesc.Contains("Trainee"))
                                                                                {
                                                                                    @Html.Label("lblMassStaff", "Mass (Trainee)", new { @class = "form-control" })
                                                                                }
                                                                            }
                                                                        </div>
                                                                    </dd>

                                                                    <dt style="vertical-align:middle;">
                                                                        Position :
                                                                    </dt>
                                                                    <dd>
                                                                        <div id="divMassAuditStaff" style="display:none;">
                                                                            <table border="0" cellpadding="0" cellspacing="0">
                                                                                <tr>
                                                                                    <td style="width:120px;">Audit Pool : Total </td>
                                                                                    <td>
                                                                                        <div id="divtxtAuditHCTotal">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtAuditHCTotal", Model.Positions.ToList()[0].Headcount, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtAuditHCTotal", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G1 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG1">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG1", Model.Positions.ToList()[0].Headcount1, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG1", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G2 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG2">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG2", Model.Positions.ToList()[0].Headcount2, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG2", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G3 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG3">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG3", Model.Positions.ToList()[0].Headcount3, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG3", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G4 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG4">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG4", Model.Positions.ToList()[0].Headcount4, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG4", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G5 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG5">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG5", Model.Positions.ToList()[0].Headcount5, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG5", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                            </table>
                                                                        </div>

                                                                        <div id="divMassTaxStaff" style="display:none;">
                                                                            <table border="0" cellpadding="0" cellspacing="0">
                                                                                <tr>
                                                                                    <td style="width:140px;" colspan="3">Tax and Legal : Total </td>
                                                                                    <td>
                                                                                        <div id="divtxtTaxHCTotal">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtTaxHCTotal", Model.Positions.ToList()[0].Headcount, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtTaxHCTotal", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="width:40px;">&nbsp;</td>
                                                                                    <td style="width:40px;">&bull;&nbsp;DMT</td>
                                                                                    <td style="text-align: center; width: 5px">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassTax1">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax1", Model.Positions.ToList()[0].Headcount1, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax1", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;GCMS</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;GCMS :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTax2">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax2", Model.Positions.ToList()[0].Headcount2, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax2", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;GMS</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;GMS :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTax3">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax3", Model.Positions.ToList()[0].Headcount3, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax3", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;INT</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;INT :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTax4">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax4", Model.Positions.ToList()[0].Headcount4, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax4", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;INTLT</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;INTLT :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTax5">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax5", Model.Positions.ToList()[0].Headcount5, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax5", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;Legal</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;Legal :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTax6">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax6", Model.Positions.ToList()[0].Headcount6, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax6", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;TP</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;TP :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTax7">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax7", Model.Positions.ToList()[0].Headcount7, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax7", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                            </table>
                                                                        </div>

                                                                        <div id="divMassAuditTrainee" style="display:none;">
                                                                            <table border="0" cellpadding="0" cellspacing="0">
                                                                                <tr>
                                                                                    <td style="width:120px;">Audit Pool : Total </td>
                                                                                    <td>
                                                                                        <div id="divtxtAuditHCTotal">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtAuditTraineeHCTotal", Model.Positions.ToList()[0].Headcount, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtAuditTraineeHCTotal", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G1 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG1">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG1", Model.Positions.ToList()[0].Headcount1, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG1", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G2 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG2">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG2", Model.Positions.ToList()[0].Headcount2, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG2", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G3 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG3">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG3", Model.Positions.ToList()[0].Headcount3, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG3", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G4 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG4">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG4", Model.Positions.ToList()[0].Headcount4, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG4", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G5 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG5">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG5", Model.Positions.ToList()[0].Headcount5, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG5", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                            </table>
                                                                        </div>

                                                                        <div id="divMassTaxTrainee" style="display:none;">
                                                                            <table border="0" cellpadding="0" cellspacing="0">
                                                                                <tr>
                                                                                    <td style="width:140px;" colspan="3">Tax and Legal : Total </td>
                                                                                    <td>
                                                                                        <div id="divtxtTaxTraineeHCTotal">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtTaxTraineeHCTotal", Model.Positions.ToList()[0].Headcount, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtTaxTraineeHCTotal", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="width:40px;">&nbsp;</td>
                                                                                    <td style="width:40px;">&bull;&nbsp;DMT</td>
                                                                                    <td style="text-align: center; width: 5px">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;DMT :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTaxTrainee1">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee1", Model.Positions.ToList()[0].Headcount1, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee1", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;GCMS</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;GCMS :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTaxTrainee2">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee2", Model.Positions.ToList()[0].Headcount2, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee2", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;GMS</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;GMS :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTaxTrainee3">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee3", Model.Positions.ToList()[0].Headcount3, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee3", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;INT</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;INT :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTaxTrainee4">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee4", Model.Positions.ToList()[0].Headcount4, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee4", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;INTLT</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;INTLT :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTaxTrainee5">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee5", Model.Positions.ToList()[0].Headcount5, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee5", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;Legal</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;Legal :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTaxTrainee6">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee6", Model.Positions.ToList()[0].Headcount6, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee6", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;TP</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;TP :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTaxTrainee7">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee7", Model.Positions.ToList()[0].Headcount7, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee7", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                            </table>
                                                                        </div>
                                                                    </dd>
                                                                </dl>
                                                            </fieldset>
                                                        }
                                                    </div>

                                                </td>
                                            }
                                            else
                                            {
                                                Position pos = Model.Positions.ToList()[0];
                                                <td>
                                                    <br />
                                                    <div id="divPosition">
                                                        <table style="width: 90%;" border="0">
                                                            <tr>
                                                                <th style="text-align:right;background-color:#6D2077;color:white;width:200px;vertical-align:middle;border-bottom:1px solid;">Position Title :&nbsp;</th>
                                                                <td>
                                                                    <div id="divReqPosTitle">
                                                                        @Html.TextBox("txtReqPosTitle", pos.PositionTitle, new { @class = "form-control", @readonly = "readonly" })
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th style="text-align:right;background-color:#6D2077;color:white;width:200px;vertical-align:middle;border-bottom:1px solid;">
                                                                    <div id="divRankHead">
                                                                        Rank :&nbsp;
                                                                    </div>
                                                                </th>
                                                                <td>
                                                                    <div id="divRank">
                                                                        @Html.TextBox("txtRank", pos.Rank, new { @class = "form-control", @readonly = "readonly" })
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th style="text-align:right;background-color:#6D2077;color:white;width:200px;vertical-align:middle;border-bottom:1px solid;">Target Period :&nbsp;</th>
                                                                <td>
                                                                    @*<div id="divPeriod" class="input-group date" data-provide="datepicker" data-date-format='dd-M-yyyy'>
                                                                            <input id="dpPeriod" name="dpPeriod" type="text" value="@pos.TargetPeriod.ToString("dd-MMM-yyyy")" class="form-control" readonly>
                                                                            <div class="input-group-addon">
                                                                                <span class="glyphicon glyphicon-calendar"></span>
                                                                            </div>
                                                                        </div>

                                                                        <div id="divPeriodTo" class="input-group date" data-provide="datepicker" data-date-format='dd-M-yyyy' style="display:none;">
                                                                            <input id="dpPeriodTo" name="dpPeriodTo" type="text" value="@pos.TargetPeriodTo.ToString("dd-MMM-yyyy")" class="form-control" readonly>
                                                                            <div class="input-group-addon">
                                                                                <span class="glyphicon glyphicon-calendar"></span>
                                                                            </div>
                                                                        </div>*@

                                                                    <div id="divPeriod" class="input-group form-inline" style="float: left;">
                                                                        <input type="text" class="form-control" id="dpPeriod" name="dpPeriod" value="@pos.TargetPeriod.ToString("dd-MMM-yyyy")" data-date-language="th-th" readonly>
                                                                        <span class="input-group-addon">
                                                                            <i class="glyphicon glyphicon-calendar"></i>
                                                                        </span>
                                                                    </div>
                                                                    <div id="divPeriodTo" class="input-group form-inline" style="float: left; display:none;">
                                                                        <input type="text" class="form-control" id="dpPeriodTo" name="dpPeriodTo" value="@pos.TargetPeriodTo.ToString("dd-MMM-yyyy")" data-date-language="th-th" readonly>
                                                                        <span class="input-group-addon">
                                                                            <i class="glyphicon glyphicon-calendar"></i>
                                                                        </span>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th style="text-align:right;background-color:#6D2077;color:white;width:200px;vertical-align:middle;border-bottom:1px solid;">No. of Headcount :&nbsp;</th>
                                                                <td>
                                                                    <div id="divHC">
                                                                        @Html.TextBox("txtHC", pos.Headcount, new { @class = "form-control", @readonly = "readonly" })
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th style="text-align:right;background-color:#6D2077;color:white;width:200px;vertical-align:middle;border-bottom:1px solid;">Type of Request :&nbsp;</th>
                                                                <td>
                                                                    <div id="divType">
                                                                        @Html.TextBox("txtType", pos.EmpType.EmployeeTypeDesc, new { @class = "form-control", @readonly = "readonly" })
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td colspan="2">&nbsp;</td>
                                                            </tr>
                                                            <tr>
                                                                <td colspan="2">
                                                                    <div id="divPosSpecify">
                                                                        Please specify the name of person being replaced. :<br />
                                                                        <div id="divSpecify">
                                                                            @Html.TextBox("txtSpecific", pos.Specify, new { id = "txtSpecific", @class = "form-control", @readonly = "readonly" })
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                        <br />
                                                    </div>

                                                    <div id="divMassDetail" style="display : none;">
                                                        @{
                                                            Position posi;
                                                            <fieldset>
                                                                <dl class="dl-horizontal">
                                                                    <dt style="vertical-align:middle;">
                                                                        Type of Request :
                                                                    </dt>
                                                                    <dd>
                                                                        <div id="divMassTOR">
                                                                            @if (Model.RequestType != null)
                                                                            {
                                                                                if (Model.RequestType.RequestTypeDesc.Contains("Mass Recruitment") && Model.RequestType.RequestTypeDesc.Contains("Staff"))
                                                                                {
                                                                                    @Html.Label("lblMassStaff", "Mass (Staff)", new { @class = "form-control" })
                                                                                }
                                                                                else if (Model.RequestType.RequestTypeDesc.Contains("Mass Recruitment") && Model.RequestType.RequestTypeDesc.Contains("Trainee"))
                                                                                {
                                                                                    @Html.Label("lblMassStaff", "Mass (Trainee)", new { @class = "form-control" })
                                                                                }
                                                                            }
                                                                        </div>
                                                                    </dd>

                                                                    <dt style="vertical-align:middle;">
                                                                        Position :
                                                                    </dt>
                                                                    <dd>
                                                                        <div id="divMassAuditStaff" style="display:none;">
                                                                            <table border="0" cellpadding="0" cellspacing="0">
                                                                                <tr>
                                                                                    <td style="width:120px;">Audit Pool : Total </td>
                                                                                    <td>
                                                                                        <div id="divtxtAuditHCTotal">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtAuditHCTotal", Model.Positions.ToList()[0].Headcount, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtAuditHCTotal", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G1 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG1">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG1", Model.Positions.ToList()[0].Headcount1, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG1", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G2 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG2">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG2", Model.Positions.ToList()[0].Headcount2, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG2", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G3 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG3">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG3", Model.Positions.ToList()[0].Headcount3, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG3", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G4 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG4">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG4", Model.Positions.ToList()[0].Headcount4, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG4", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G5 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG5">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG5", Model.Positions.ToList()[0].Headcount5, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditG5", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                            </table>
                                                                        </div>

                                                                        <div id="divMassTaxStaff" style="display:none;">
                                                                            <table border="0" cellpadding="0" cellspacing="0">
                                                                                <tr>
                                                                                    <td style="width:140px;" colspan="3">Tax and Legal : Total </td>
                                                                                    <td>
                                                                                        <div id="divtxtTaxHCTotal">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtTaxHCTotal", Model.Positions.ToList()[0].Headcount, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtTaxHCTotal", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="width:40px;">&nbsp;</td>
                                                                                    <td style="width:40px;">&bull;&nbsp;DMT</td>
                                                                                    <td style="text-align: center; width: 5px">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassTax1">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax1", Model.Positions.ToList()[0].Headcount1, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax1", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;GCMS</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;GCMS :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTax2">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax2", Model.Positions.ToList()[0].Headcount2, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax2", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;GMS</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;GMS :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTax3">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax3", Model.Positions.ToList()[0].Headcount3, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax3", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;INT</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;INT :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTax4">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax4", Model.Positions.ToList()[0].Headcount4, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax4", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;INTLT</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;INTLT :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTax5">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax5", Model.Positions.ToList()[0].Headcount5, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax5", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;Legal</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;Legal :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTax6">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax6", Model.Positions.ToList()[0].Headcount6, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax6", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;TP</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;TP :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTax7">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax7", Model.Positions.ToList()[0].Headcount7, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTax7", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                            </table>
                                                                        </div>

                                                                        <div id="divMassAuditTrainee" style="display:none;">
                                                                            <table border="0" cellpadding="0" cellspacing="0">
                                                                                <tr>
                                                                                    <td style="width:120px;">Audit Pool : Total </td>
                                                                                    <td>
                                                                                        <div id="divtxtAuditHCTotal">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtAuditTraineeHCTotal", Model.Positions.ToList()[0].Headcount, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtAuditTraineeHCTotal", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G1 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG1">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG1", Model.Positions.ToList()[0].Headcount1, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG1", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G2 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG2">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG2", Model.Positions.ToList()[0].Headcount2, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG2", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G3 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG3">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG3", Model.Positions.ToList()[0].Headcount3, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG3", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G4 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG4">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG4", Model.Positions.ToList()[0].Headcount4, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG4", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="text-align:right;">&bull;&nbsp;G5 :&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    <td>
                                                                                        <div id="divtxtMassAuditG5">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG5", Model.Positions.ToList()[0].Headcount5, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassAuditTraineeG5", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                            </table>
                                                                        </div>

                                                                        <div id="divMassTaxTrainee" style="display:none;">
                                                                            <table border="0" cellpadding="0" cellspacing="0">
                                                                                <tr>
                                                                                    <td style="width:140px;" colspan="3">Tax and Legal : Total </td>
                                                                                    <td>
                                                                                        <div id="divtxtTaxTraineeHCTotal">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtTaxTraineeHCTotal", Model.Positions.ToList()[0].Headcount, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtTaxTraineeHCTotal", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="width:40px;">&nbsp;</td>
                                                                                    <td style="width:40px;">&bull;&nbsp;DMT</td>
                                                                                    <td style="text-align: center; width: 5px">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;DMT :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTaxTrainee1">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee1", Model.Positions.ToList()[0].Headcount1, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee1", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;GCMS</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;GCMS :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTaxTrainee2">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee2", Model.Positions.ToList()[0].Headcount2, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee2", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;GMS</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;GMS :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTaxTrainee3">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee3", Model.Positions.ToList()[0].Headcount3, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee3", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;INT</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;INT :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTaxTrainee4">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee4", Model.Positions.ToList()[0].Headcount4, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee4", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;INTLT</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;INTLT :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTaxTrainee5">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee5", Model.Positions.ToList()[0].Headcount5, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee5", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;Legal</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;Legal :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTaxTrainee6">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee6", Model.Positions.ToList()[0].Headcount6, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee6", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>&nbsp;</td>
                                                                                    <td>&bull;&nbsp;TP</td>
                                                                                    <td style="text-align:center;">:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                                                                    @*<td style="text-align:right;">&bull;&nbsp;TP :&nbsp;&nbsp;&nbsp;&nbsp;</td>*@
                                                                                    <td>
                                                                                        <div id="divtxtMassTaxTrainee7">
                                                                                            @{
                                                                                                if (Model.Positions.Count > 0)
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee7", Model.Positions.ToList()[0].Headcount7, new { @class = "form-control", @readonly = "readonly", @style = "background-color:White;" })
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @Html.TextBox("txtMassTaxTrainee7", null, new { @class = "form-control" })
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>&nbsp;&nbsp;&nbsp;headcounts</td>
                                                                                </tr>
                                                                            </table>
                                                                        </div>
                                                                    </dd>
                                                                </dl>
                                                            </fieldset>
                                                        }
                                                    </div>

                                                </td>

                                                @*<td>
                                                        <br />
                                                        <table class="table table-bordered table-striped" style="width:90%;">
                                                            <thead>
                                                                <tr style='background-color:lightblue;'>
                                                                    <th style='text-align:center; vertical-align:middle;'>Title</th>
                                                                    <th style='text-align:center; vertical-align:middle;'>Rank</th>
                                                                    <th style='text-align:center; vertical-align:middle;'>Target Period</th>
                                                                    <th style='text-align:center; vertical-align:middle;'>Headcount</th>
                                                                    <th style='text-align:center; vertical-align:middle;'>Type of Request</th>
                                                                    <th style='text-align:center; vertical-align:middle;'>Name of person<br />being replace</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                @foreach (Position pos in Model.Positions)
                                                                {
                                                                    <tr>
                                                                        <td style='text-align:center;'>@pos.PositionTitle</td>
                                                                        <td style='text-align:center;'>@pos.Rank</td>
                                                                        <td style='text-align:center;'>@pos.TargetPeriod.ToString("dd-MMM-yyyy")</td>
                                                                        <td style='text-align:center;'>@pos.Headcount</td>
                                                                        <td style='text-align:center;'>@pos.EmpType.EmployeeTypeDesc</td>
                                                                        <td style='text-align:center;'>@pos.Specify</td>
                                                                    </tr>
                                                                }
                                                            </tbody>
                                                        </table>
                                                    </td>*@
                                            }
                                        }

                                        <td>
                                            <br />
                                            <table class="table table-bordered" width="90%" style="border: 1px solid black;">
                                                <tr>
                                                    <th style="background-color:#daf0c1;text-align:center;"></th>
                                                    <th style="background-color:#daf0c1;text-align:center;">Approver</th>
                                                    <th style="background-color:#daf0c1;text-align:center;">Approval Date</th>
                                                </tr>
                                                <tr>
                                                    <td>Requested by :</td>
                                                    <td>
                                                        <div id="divReqBy">
                                                            @ViewBag.RequestBy
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div id="divReqDate" align="center">
                                                            @ViewBag.RequestDate
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Requested by<br />Group Head :</td>
                                                    <td>
                                                        <div id="divHeadBy">
                                                            @ViewBag.HeadReqBy
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div id="divHeadDate" align="center">
                                                            @ViewBag.HeadReqDate
                                                        </div>
                                                    </td>
                                                </tr>
                                                @{
                                                    if (!string.IsNullOrEmpty(ViewBag.AprovedBy))
                                                    {
                                                        <tr>
                                                            <td>Approve by<br />Functional HOP :</td>
                                                            <td>
                                                                <div id="divBUBy">
                                                                    @ViewBag.AprovedBy
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div id="divBUDate" align="center">
                                                                    @ViewBag.AprovedDate
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    }

                                                }

                                                @{
                                                    if (!string.IsNullOrEmpty(ViewBag.CEOAprovedBy))
                                                    {
                                                        <tr>
                                                            <td>Approve by CEO :<br />(For Manager and up)</td>
                                                            <td>
                                                                <div id="divCEOBy">
                                                                    @ViewBag.CEOAprovedBy
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div id="divCEODate" align="center">
                                                                    @ViewBag.CEOAprovedDate
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    }
                                                }
                                            </table>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td colspan="2">
                                            <div id="divJobDesc">
                                                <fieldset>
                                                    <legend>Job Descriptions :</legend>
                                                    <div id="divtxtJobDesc">
                                                        @if (string.IsNullOrEmpty(Model.JobDescription))
                                                        {
                                                            <textarea id="txtJobDesc" name="txtJobDesc" class="form-control" rows="10"></textarea>
                                                        }
                                                        else
                                                        {
                                                            @*<textarea id="txtJobDesc" name="txtJobDesc" class="form-control" rows="10" readonly>@Model.JobDescription</textarea>*@
                                                            <div style="width: 90%; white-space: pre-line; background-color:#f5f5f5; border: 1px solid #ccc;padding : 0.01em 10px; margin : 10px;border-radius:4px;">
                                                                @*class="well"*@
                                                                @Model.JobDescription
                                                            </div>
                                                        }
                                                    </div>
                                                </fieldset>
                                            </div>
                                            <div id="divQualification">
                                                <fieldset>
                                                    <legend>Qualification &amp; Experience :</legend>
                                                    @if (string.IsNullOrEmpty(Model.JobDescription))
                                                    {
                                                        <textarea id="txtEduBack" name="txtEduBack" class="form-control" rows="10" placeholder="e.g. Education background, Language ability"></textarea>
                                                    }
                                                    else
                                                    {
                                                        @*<textarea id="txtEduBack" name="txtEduBack" class="form-control" rows="10" readonly>@Model.EducationDesc</textarea>*@
                                                        <div style="width: 90%; white-space: pre-line;background-color:#f5f5f5; border: 1px solid #ccc; padding : 0.01em 10px; margin : 10px;border-radius:4px;">
                                                            @*class="well"*@
                                                            @Model.EducationDesc
                                                        </div>
                                                    }

                                                    @*<ul>
                                                            <li>Education Background
                                                                <div id="divtxtEduBack">
                                                                    @{
                                                                        if (string.IsNullOrEmpty(Model.EducationDesc))
                                                                        {
                                                                            @Html.TextBox("txtEduBack", null, new { @class = "form-control" })
                                                                        }
                                                                        else
                                                                        {
                                                                            @Html.TextBox("txtEduBack", Model.EducationDesc, new { @class = "form-control", @readonly = "readonly" })
                                                                        }
                                                                    }
                                                                </div>
                                                            </li>
                                                            <li>Language Ability
                                                                <div id="divtxtLanguage">
                                                                @{
                                                                    if (string.IsNullOrEmpty(Model.Language))
                                                                    {
                                                                        @Html.TextBox("txtLanguage", null, new { @class = "form-control" })
                                                                    }
                                                                    else
                                                                    {
                                                                        @Html.TextBox("txtLanguage", @Model.Language, new { @class = "form-control", @readonly = "readonly" })
                                                                    }
                                                                }

                                                                </div>
                                                            </li>
                                                        </ul>*@
                                                </fieldset>
                                            </div>

                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                            <div id="divAddAttach">
                                                <fieldset>
                                                    <legend>Attachment :</legend>
                                                    @{
                                                        if (Model.Id == 0)
                                                        {
                                                            <input id="fileUpload" name="fileUpload" multiple="" type="file" class="form-control" style="width:800px" />
                                                            <div style="color:red;">
                                                                &ndash; Size of attachment must be smaller than 4MB.<br />
                                                                &ndash; Type of attachment : Word, Excel, PDF, Images
                                                            </div>
                                                            <input type="button" id="btnAddAttach" name="btnAddAttach" class="btn btn-default" value="Upload">
                                                        }
                                                    }
                                                    <br />
                                                    <div id="divAttachDesp" style="width:500px;">
                                                        @{
                                                            if (Model.AttachFiles.Count > 0)
                                                            {
                                                                <table class="table table-bordered table-striped table-condensed">
                                                                    <thead>
                                                                        <tr style='background-color:lightblue;'>
                                                                            <th style='text-align: center; vertical-align: middle; width: 50px;'>No.</th>
                                                                            <th style='text-align: center; vertical-align: middle;'>File Name</th>
                                                                            <th style='text-align: center; vertical-align: middle; width: 150px;'>Download</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        @{
                                                                            int rowNum = 1;
                                                                            foreach (AttachFile af in Model.AttachFiles)
                                                                            {
                                                                                <tr>
                                                                                    <td style='text-align:center; vertical-align:middle;'>@rowNum</td>
                                                                                    <td>@af.FileName</td>
                                                                                    <td style='text-align:center; vertical-align:middle;'><a target="_blank" href="@af.FilePath">Download</a></td>
                                                                                </tr>
                                                                                rowNum++;
                                                                            }
                                                                        }
                                                                    </tbody>
                                                                </table>
                                                            }
                                                        }
                                                    </div>
                                                </fieldset>
                                            </div>

                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                            @{
                                                if (Model.Id == 0)
                                                {
                                                    <input type="submit" id="btnSubmit" name="btnSubmit" value="Submit" class="btn btn-success btn-lg" />
                                                    <input type="hidden" id="hdSelReqType" name="hdSelReqType" value="Permanent Staff" />
                                                }
                                                else
                                                {
                                                    if (Model.Status.StatusDesc == "Group Head Approve" && Model.HeadApproveBy == ViewBag.EmployeeNo)
                                                    {
                                                        <input type="button" id="btnApprove" name="btnApprove" value="Approve" class="btn btn-success btn-lg" onclick="approved('@Model.Id', '@Model.HeadApproveBy', '@Model.Status.StatusDesc')" />
                                                        <input type="button" id="btnReject" name="btnReject" value="Reject" class="btn btn-danger btn-lg" onclick="rejected('@Model.Id', '@Model.HeadApproveBy')" />
                                                    }
                                                    else if (Model.Status.StatusDesc == "Functional HOP Approve" && Model.BUApproveBy == ViewBag.EmployeeNo)
                                                    {
                                                        <input type="button" id="btnApprove" name="btnApprove" value="Approve" class="btn btn-success btn-lg" onclick="approved('@Model.Id', '@Model.BUApproveBy', '@Model.Status.StatusDesc')" />
                                                        <input type="button" id="btnReject" name="btnReject" value="Reject" class="btn btn-danger btn-lg" onclick="rejected('@Model.Id', '@Model.BUApproveBy')" />
                                                    }
                                                    else if (Model.Status.StatusDesc == "CEO Approve" && Model.CeoApproveBy == ViewBag.EmployeeNo)
                                                    {
                                                        <input type="button" id="btnApprove" name="btnApprove" value="Approve" class="btn btn-success btn-lg" onclick="approved('@Model.Id', '@Model.CeoApproveBy', '@Model.Status.StatusDesc')" />
                                                        <input type="button" id="btnReject" name="btnReject" value="Reject" class="btn btn-danger btn-lg" onclick="rejected('@Model.Id', '@Model.CeoApproveBy')" />
                                                                }
                                                                else if (Model.Status.StatusDesc != "Complete" && Model.Status.StatusDesc != "Rejected" && Model.Status.StatusDesc != "Cancel")
                                                                {
                                                                    string[] aRole = ViewBag.roles;
                                                                    if (Model.RequestBy == ViewBag.EmployeeNo || aRole.Contains("Administrator") || aRole.Contains("Recruiter"))
                                                                    {
                                                            <input type="button" id="btnCancel" name="btnCancel" value="Cancel" class="btn btn-warning btn-lg" onclick="cancelled('@Model.Id', '@ViewBag.EmployeeNo')" />
                                                        }

                                                }
                                                }
                                            }
                                        </td>
                                    </tr>

                                </tbody>

                            </table>
                        </div>
                    }
                    <table class="table table-responsive" style="width:90%;" align="center">
                        @{
                            if (Model.Id != 0 && ViewBag.IsAdmin)
                            {
                                <tr>
                                    <td colspan="2">
                                        <div id="divTracking">
                                            @{
                                                if (Model.Status.StatusDesc == "Recruiting")
                                                {
                                                    <button id="btnAddCandidate" onclick="OpenModal('','@Model.Id');" class="btn btn-info">Add Candidate</button>
                                                }
                                            }

                                            <table class="table table-bordered table-striped">
                                                <thead>
                                                    <tr style="background-color:#33cc33;">
                                                        <th colspan="13">HR's Part : Candidate Tracking</th>
                                                    </tr>
                                                    <tr style="background-color:#daf0c1;">
                                                        @*<th colspan="4">&nbsp;</th>*@
                                                        <th style="width: 180px; vertical-align: middle;" rowspan="2">Name</th>
                                                        <th style="vertical-align: middle; text-align: center; width: 75px;" rowspan="2">Rank</th>
                                                        @if (ViewBag.IsAdmin)
                                                        {
                                                            <th style="vertical-align: middle; text-align: center; width: 75px;" rowspan="2">Rank Grade</th>
                                                        }
                                                        <th style="text-align: center; vertical-align: middle; width: 110px;" rowspan="2">BU Interview<br />Status</th>
                                                        <th style="text-align: center; vertical-align: middle; width: 110px;" rowspan="2">Selected Date<br />by BU</th>

                                                        <th style="text-align: center; vertical-align: middle;" colspan="2">HR's Part</th>
                                                        <th style="text-align: center; vertical-align: middle;" colspan="4">Candidate's Part</th>

                                                        <th style="text-align: center; vertical-align: middle; width: 110px; " rowspan="2">HR Owner</th>
                                                        <th style="text-align: center;vertical-align:middle; width: 110px;" rowspan="2">Edit</th>
                                                    </tr>
                                                    <tr style="background-color:#daf0c1;">

                                                        <th style="vertical-align: middle;text-align: center;width: 110px;">Hiring Process</th>
                                                        <th style="vertical-align: middle; text-align: center; width: 110px; ">Offering Date</th>

                                                        <th style="vertical-align: middle; text-align: center; width: 110px; ">Accept Date</th>
                                                        <th style="vertical-align: middle; text-align: center; width: 110px; ">Reject/<br />Turn Down<br />Date</th>

                                                        @*<th style="vertical-align: middle;text-align: center;">Offering Status</th>*@
                                                        <th style="vertical-align: middle; text-align: center; width: 110px; ">Start Date</th>
                                                        @*<th style="vertical-align: middle;text-align: center;">End Date</th>*@
                                                        @*<th style="vertical-align: middle;text-align: center;">On-board Status</th>*@
                                                        <th style="vertical-align: middle;text-align: center; width : 200px;">Remark/<br />Reasons</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    @{
                                                        foreach (Candidate can in Model.Candidates)
                                                        {
                                                            <tr>
                                                                <td>@can.CandidateName</td>
                                                                <td style="text-align: center;">@can.rank</td>
                                                                @if (ViewBag.IsAdmin)
                                                                {
                                                                    <td style="text-align: center;">@can.fullRank</td>
                                                                }
                                                                @if (can.InterviewStatus != null)
                                                                {
                                                                    <td style="text-align: center;">@can.InterviewStatus.InterviewDesc</td>
                                                                }
                                                                else
                                                                {
                                                                    <td>&nbsp;</td>
                                                                }
                                                                <td style="text-align: center;">@can.DateByBUDesc()</td>
                                                                @if (can.HiringProcess != null)
                                                                {
                                                                    <td style="text-align: center;">@can.HiringProcess.HiringProcessDesc</td>
                                                                }
                                                                else
                                                                {
                                                                    <td>&nbsp;</td>
                                                                }

                                                                <td style="text-align: center;">@can.OfferingDateDesc()</td>
                                                                @*@if (can.OfferStatus != null)
                                                                    {
                                                                        <td>@can.OfferStatus.OfferDesc</td>
                                                                    }
                                                                    else
                                                                    {
                                                                        <td>&nbsp;</td>
                                                                    }*@
                                                                @*@if (can.CandidateStatus != null)
                                                                    {
                                                                        <td>@can.CandidateStatus.CandidateStatusDesc</td>
                                                                    }
                                                                    else
                                                                    {
                                                                        <td>&nbsp;</td>
                                                                    }*@

                                                                <td style="text-align: center;">@can.AcceptDateDesc()</td>
                                                                <td style="text-align: center;">@can.rejectDateDesc()</td>
                                                                <td style="text-align: center;">@can.StartDateDesc()</td>
                                                                @*<td>@can.EndDateDesc()</td>*@
                                                                @*@if (can.OnboardStatus != null)
                                                                    {
                                                                        <td>@can.OnboardStatus.OnboardDesc</td>
                                                                    }
                                                                    else
                                                                    {
                                                                        <td>&nbsp;</td>
                                                                    }*@
                                                                <td>
                                                                    <div style="word-wrap:break-word;width : 200px">
                                                                        @can.Remark
                                                                    </div>
                                                                </td>
                                                                <td>@*@can.HROwnerFullname()*@</td>
                                                                <td style="vertical-align: middle; text-align: center;">
                                                                    <button id="btnEdit" class="btn btn-warning" onclick="OpenModal('@can.Id','@Model.Id')">Edit</button>
                                                                </td>
                                                            </tr>
                                                        }
                                                    }
                                                </tbody>
                                            </table>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2">
                                        @if (Model.Status.StatusDesc == "Recruiting")
                                        {
                                            using (Html.BeginForm("Complete", "PR", FormMethod.Post, new { enctype = "multipart/form-data" }))
                                            {
                                                <input type="hidden" id="hdCompletePRid" name="hdCompletePRid" value="@Model.Id" />
                                                <input type="submit" id="btnComplete" class="btn btn-success" value="Complete" />
                                            }
                                        }
                                    </td>
                                </tr>
                            }
                        }
                    </table>
                </div>
                <!-- /.box-body -->
            </div>
        </div>
        @*<input type="hidden" id="txtSess" name="txtSess" class="form-control" data-bind='value: session' />*@
    </div>


    <div id="divCandidate" style="background-color : white;">
    </div>

    <!-- Modal -->
    <div class="modal fade  bd-example-modal-lg" id="exampleModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog  modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-body" style="padding-bottom:5px;padding-left:0px;padding-right:0px;padding-top:0px;height:800px">
                    <div id="divBody"></div>
                </div>
            </div>
        </div>
    </div>

</section>

@section scripts{
    <script>
        if ($.trim("@ViewBag.response") !== "") {
            alert("@ViewBag.response");
        }

        //$('.datepicker').datepicker({
        //    dateFormat: 'dd-mm-yy',
        //    todayHighlight: true,
        //    autoclose: true,
        //}).on('changeDate', function (e) {
        //    // Revalidate the date field
        //    $('#eventForm').formValidation('revalidateField', 'date');
        //});
        $.fn.datepicker.defaults.autoclose = true;
        $.fn.datepicker.defaults.todayHighlight = true;

        $(function () {
            SetDatePicker($('#dpPeriod'));
            SetDatePicker($('#dpPeriodTo'));
        });

        function SetDatePicker($txtDate, $startDate, $endDate) {
            //var sDateDef = $('input[id$=hdfDate]').val();
            $txtDate.datepicker({
                format: 'dd-M-yyyy',
                autoclose: true,
                startDate: ($startDate === undefined ? -Infinity : $startDate),
                endDate: ($endDate === undefined ? Infinity : $endDate),
                todayHighlight: true,
            })
                .keydown(function (e) {
                    //48-57 = "0-9" บนคีย์บอร์ด //96-105 = "0-9" คีย์ตัวเลข // 111 191 = "/" //8 46 = Del
                    if (!(e.which >= 48 && e.which <= 57) && !(e.which >= 96 && e.which <= 105) && e.which != 111 && e.which != 191 && e.which == 8 && e.which == 46) {
                        $('#eventForm').formValidation('revalidateField', 'dpPeriod');
                        return false;
                    }
                    if (e.which == 8 || e.which == 46) {
                        $txtDate.val('');
                    }
                });

            $txtDate.next().click(function () { $txtDate.focus(); });

        }

        function approved(prid, approver, status) {
          //  showLoading();
            $.ajax({
                typr: "GET",
                url: '@Url.Action("PRApprove", "PR")',
                data: { prid: prid, approver: approver, status: status },
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {
                    alert(response["res"]);
                   // hideLoading();
                    location.reload(true);
                },
                error: function () {
                  //  hideLoading();
                    alert('Fail to approve.');
                }
            });
        }

        function rejected(prid, approver) {
            var reason = prompt("Please enter reject reason :");

            if (reason != null && reason != "") {
             //   showLoading();
                $.ajax({
                    typr: "GET",
                    url: '@Url.Action("PRReject", "PR")',
                    data: { prid: prid, approver: approver, reason: reason },
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (response) {
                        alert(response["res"]);
                     //   hideLoading();
                        location.reload(true);
                    },
                    error: function () {
                     //   hideLoading();
                        alert('Fail to reject.');
                    }
                });
            } else {
                return false;
            }
        }

        function cancelled(prid, approver) {
            var reason = prompt("Please share the reasons of PR cancellation :", "");

            if (reason != null && reason != "") {
              //  showLoading();
                $.ajax({
                    typr: "GET",
                    url: '@Url.Action("PRCancel", "PR")',
                    data: { prid: prid, approver: approver, reason: reason },
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (response) {
                        alert(response["res"]);
                      //  hideLoading();
                        location.reload(true);
                    },
                    error: function () {
                      //  hideLoading();
                        alert('Fail to cancel.');
                    }
                });
            } else {
                //alert("Please enter the reason for PR cancellation");
                return false;
            }
        }

        function clearValidate() {
            $("#divddlDivision").removeClass("has-error");
            $("#divReqType").removeClass("has-error");
            $("#divtxtJobDesc").removeClass("has-error");
            $("#divQualification").removeClass("has-error");
            //$("#divtxtLanguage").removeClass("has-error");
            $("#divtxtAuditHCTotal").removeClass("has-error");
            $("#divtxtMassAuditG1").removeClass("has-error");
            $("#divtxtMassAuditG2").removeClass("has-error");
            $("#divtxtMassAuditG3").removeClass("has-error");
            $("#divtxtMassAuditG4").removeClass("has-error");
            $("#divtxtMassAuditG5").removeClass("has-error");
            $("#divtxtTaxHCTotal").removeClass("has-error");
            $("#divtxtMassTax1").removeClass("has-error");
            $("#divtxtMassTax2").removeClass("has-error");
            $("#divtxtMassTax3").removeClass("has-error");
            $("#divtxtMassTax4").removeClass("has-error");
            $("#divtxtMassTax5").removeClass("has-error");
            $("#divtxtMassTax6").removeClass("has-error");
            $("#divtxtMassTax7").removeClass("has-error");
            $("#divtxtAuditTraineeHCTotal").removeClass("has-error");
            $("#divtxtMassAuditTraineeG1").removeClass("has-error");
            $("#divtxtMassAuditTraineeG2").removeClass("has-error");
            $("#divtxtMassAuditTraineeG3").removeClass("has-error");
            $("#divtxtMassAuditTraineeG4").removeClass("has-error");
            $("#divtxtMassAuditTraineeG5").removeClass("has-error");
            $("#divtxtTaxTraineeHCTotal").removeClass("has-error");
            $("#divtxtMassTaxTrainee1").removeClass("has-error");
            $("#divtxtMassTaxTrainee2").removeClass("has-error");
            $("#divtxtMassTaxTrainee3").removeClass("has-error");
            $("#divtxtMassTaxTrainee4").removeClass("has-error");
            $("#divtxtMassTaxTrainee5").removeClass("has-error");
            $("#divtxtMassTaxTrainee6").removeClass("has-error");
            $("#divtxtMassTaxTrainee7").removeClass("has-error");
            $("#divPosition").removeClass("has-error");
            $("#divAddAttach").removeClass("has-error");
        }

        function clearDataAndClass() {
            //Clear Class
            $("#divReqPosTitle").removeClass("has-error");
            $("#divRank").removeClass("has-error");
            $("#divPeriod").removeClass("has-error");
            $("#divPeriodTo").removeClass("has-error");
            $("#divHC").removeClass("has-error");
            $("#divType").removeClass("has-error");
            $("#divSpecify").removeClass("has-error");
        }

        function setPositionValidate() {
            $("#divReqPosTitle").addClass("has-error");
            $("#divRank").addClass("has-error");
            $("#divPeriod").addClass("has-error");
            $("#divPeriodTo").addClass("has-error");
            $("#divHC").addClass("has-error");
            $("#divType").addClass("has-error");
            $("#divSpecify").addClass("has-error");
        }

        $(document).ready(function () {
            $('#ddlDivision').change(function (event) {
              //  showLoading();
                var sel = $("#ddlDivision :selected").val();
                var planHC = $("#lblPlanHC");
                var currHC = $("#lblCurHC");
                var headBy = $("#divHeadBy");
                var buBy = $("#divBUBy");
                var lob = $("#txtCompany");
                $.ajax({
                    typr: "GET",
                    url: '@Url.Action("getHeadcount", "PR")',
                    data: { division: sel },
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (response) {
                        planHC.text(response["plan"]);
                        currHC.text(response["curr"]);
                        headBy.html(response["head"]);
                        buBy.html(response["bu"]);
                        if (response["bu"] == "") {
                            $("#divCEOBy").hide();
                        } else {
                            $("#divCEOBy").show();
                        }

                        lob.val(response["lob"]);
                       // hideLoading();
                    },
                    error: function () {
                        alert('Fail to load headcount number.');
                        //hideLoading();
                    }
                });
            });

            $('#ddlRank').change(function (event) {
                var rank = $("#ddlRank :selected").text();
                $('#txtRank').val(rank);
            });

            @*$('#btnAdd').click(function (event) {
            var title = $("#txtReqPosTitle").val();
            var rank = $("#ddlRank :selected").val();
            var rankTxt = $("#ddlRank :selected").text();
            var period = $("#dpPeriod").val();
            var headcount = $("#ddlHC").val();
            var type = $("#ddlType :selected").val();
            var fixType = $("#txtType").val();
            var specify = $("#txtSpecific").val();
            var sel = $("#ddlReqType :selected").text();
            var periodTo = $("#dpPeriodTo").val();

            //Verify
            clearDataAndClass();
            //alert(sel);
            var valAdd = "";
            if (title == "") {
                valAdd += "\n- Position Title";
                //form-control has-error
                $("#divReqPosTitle").addClass("has-error");
            }
            if (sel != "Trainee") {
                if (rank == "0") {
                    valAdd += "\n- Rank";
                    $("#divRank").addClass("has-error");
                }
            }
            if (period == "") {
                valAdd += "\n- Target Period";
                $("#divPeriod").addClass("has-error");
            }

            if (sel == "Trainee") {
                //var periodTo = $("#dpPeriodTo").val();
                if (periodTo == "") {
                    valAdd += "\n- Target Period to";
                    $("#divPeriodTo").addClass("has-error");
                }
            }
            if (headcount == "") {
                valAdd += "\n- Headcount";
                $("#divHC").addClass("has-error");
            }
            if (type == "0" && fixType == "") {
                valAdd += "\n- Type of request";
                $("#divType").addClass("has-error");

            } else if (type == "Replace") {
                if (specify == "") {
                    valAdd += "\n- Please specify a person replace";
                    $("#divSpecify").addClass("has-error");
                    $("#divType").removeClass("has-error");
                }
            }

            if (valAdd != "") {
                alert("Please insert the field show below" + valAdd);
            } else {
                var divRows = $("#divPositionRows");
                var sel = $("#ddlReqType :selected").text();

                if (sel == "Permanent Staff") {
                    $.ajax({
                        typr: "GET",
                        url: '@Url.Action("addNewPosition", "PR")',
                        data: { title: title, rank: rankTxt, period: period, headcount: headcount, type: type, specify: specify },
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            divRows.html(response.div);
                            clearDataAndClass();
                        },
                        error: function () {
                            alert('Fail to add new position. Please try add again.');
                            clearDataAndClass();
                        }
                    });
                } else if (sel == "Temporary Staff") {
                    $.ajax({
                        typr: "GET",
                        url: '@Url.Action("addNewPosition", "PR")',
                        data: { title: title, rank: rankTxt, period: period, headcount: headcount, type: fixType, specify: specify },
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            divRows.html(response.div);
                            clearDataAndClass();
                        },
                        error: function () {
                            alert('Fail to add new position. Please try add again.');
                            clearDataAndClass();
                        }
                    });
                } else if (sel == "Trainee") {
                    $.ajax({
                        typr: "GET",
                        url: '@Url.Action("addNewPosition", "PR")',
                        data: { title: title, rank: "trainee", period: period, headcount: headcount, type: fixType, specify: periodTo },
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            divRows.html(response.div);
                            clearDataAndClass();
                        },
                        error: function () {
                            alert('Fail to add new position. Please try add again.');
                            clearDataAndClass();
                        }
                    });
                }
            }
        });*@

            $('#btnAddAttach').click(function (event) {
                var divRows = $('#divAttachDesp');
                //var formData = new FormData();
                var fileInput = document.getElementById("fileUpload");
                //for (var i = 0; i < fileInput.files.length; i++) {
                //    formdata.append(fileInput.files[i].name, fileInput.files[i]);
                //}
                var xhr = new XMLHttpRequest();
                xhr.open('POST', '@Url.Action("addNewAttach", "PR")');
                xhr.setRequestHeader('Content-type', 'multipart/form-data');
                //Appending file information in Http headers
                xhr.setRequestHeader('X-File-Name', fileInput.files[0].name);
                xhr.setRequestHeader('X-File-Type', fileInput.files[0].type);
                xhr.setRequestHeader('X-File-Size', fileInput.files[0].size);
                //Sending file in XMLHttpRequest
                xhr.send(fileInput.files[0]);
                xhr.onreadystatechange = function () {
                    //alert(xhr.readyState + " " + xhr.status + " " + xhr.responseText);
                    if (xhr.readyState == 4 && xhr.status == 200) {
                        var js = JSON.parse(xhr.responseText);
                        alert(js['alert']);
                        divRows.html(js['tb']);
                    }
                }
                return false;

                @*$.ajax({
                typr: "GET",
                url: '@Url.Action("addNewAttach", "PR")',
                data: formData,
                contentType: false,
                processData: false,
                dataType: "json",
                success: function (response) {
                    divRows.html(response.div);
                    document.getElementById("fileUpload")
                },
                error: function () {
                    alert('Fail to attach new position. Please try add again.');
                }
            });*@


            });

            function sumMassTotal() {
                //txtAuditHCTotal

                var txtTotal = $('#txtAuditHCTotal');
                var g1 = $('#txtMassAuditG1').val();
                var g2 = $('#txtMassAuditG2').val();
                var g3 = $('#txtMassAuditG3').val();
                var g4 = $('#txtMassAuditG4').val();
                var g5 = $('#txtMassAuditG5').val();
                if (isNaN(g1) || g1 == "") {
                    g1 = 0;
                    $('#txtMassAuditG1').val(0);
                }
                if (isNaN(g2) || g2 == "") {
                    g2 = 0;
                    $('#txtMassAuditG2').val(0);
                }
                if (isNaN(g3) || g3 == "") {
                    g3 = 0;
                    $('#txtMassAuditG3').val(0);
                }
                if (isNaN(g4) || g4 == "") {
                    g4 = 0;
                    $('#txtMassAuditG4').val(0);
                }
                if (isNaN(g5) || g5 == "") {
                    g5 = 0;
                    $('#txtMassAuditG5').val(0);
                }

                txtTotal.val(parseFloat(g1) + parseFloat(g2) + parseFloat(g3) + parseFloat(g4) + parseFloat(g5));
            }

            $('#txtMassAuditG1').change(function (event) {
                sumMassTotal()
            });
            $('#txtMassAuditG2').change(function (event) {
                sumMassTotal()
            });
            $('#txtMassAuditG3').change(function (event) {
                sumMassTotal()
            });
            $('#txtMassAuditG4').change(function (event) {
                sumMassTotal()
            });
            $('#txtMassAuditG5').change(function (event) {
                sumMassTotal()
            });

            function sumMassAuditTraineeTotal() {

                var txtTotal = $('#txtAuditTraineeHCTotal');
                var g1 = $('#txtMassAuditTraineeG1').val();
                var g2 = $('#txtMassAuditTraineeG2').val();
                var g3 = $('#txtMassAuditTraineeG3').val();
                var g4 = $('#txtMassAuditTraineeG4').val();
                var g5 = $('#txtMassAuditTraineeG5').val();
                if (isNaN(g1) || g1 == "") {
                    g1 = 0;
                    $('#txtMassAuditTraineeG1').val(0);
                }
                if (isNaN(g2) || g2 == "") {
                    g2 = 0;
                    $('#txtMassAuditTraineeG2').val(0);
                }
                if (isNaN(g3) || g3 == "") {
                    g3 = 0;
                    $('#txtMassAuditTraineeG3').val(0);
                }
                if (isNaN(g4) || g4 == "") {
                    g4 = 0;
                    $('#txtMassAuditTraineeG4').val(0);
                }
                if (isNaN(g5) || g5 == "") {
                    g5 = 0;
                    $('#txtMassAuditTraineeG5').val(0);
                }
                txtTotal.val(parseFloat(g1) + parseFloat(g2) + parseFloat(g3) + parseFloat(g4) + parseFloat(g5));
            }

            $('#txtMassAuditTraineeG1').change(function (event) {
                sumMassAuditTraineeTotal()
            });
            $('#txtMassAuditTraineeG2').change(function (event) {
                sumMassAuditTraineeTotal()
            });
            $('#txtMassAuditTraineeG3').change(function (event) {
                sumMassAuditTraineeTotal()
            });
            $('#txtMassAuditTraineeG4').change(function (event) {
                sumMassAuditTraineeTotal()
            });
            $('#txtMassAuditTraineeG5').change(function (event) {
                sumMassAuditTraineeTotal()
            });

            function sumMassTaxTotal() {

                var txtTotal = $('#txtTaxHCTotal');
                var t1 = $('#txtMassTax1').val();
                var t2 = $('#txtMassTax2').val();
                var t3 = $('#txtMassTax3').val();
                var t4 = $('#txtMassTax4').val();
                var t5 = $('#txtMassTax5').val();
                var t6 = $('#txtMassTax6').val();
                var t7 = $('#txtMassTax7').val();
                if (isNaN(t1) || t1 == "") {
                    t1 = 0;
                    $('#txtMassTax1').val(0);
                }
                if (isNaN(t2) || t2 == "") {
                    t2 = 0;
                    $('#txtMassTax2').val(0);
                }
                if (isNaN(t3) || t3 == "") {
                    t3 = 0;
                    $('#txtMassTax3').val(0);
                }
                if (isNaN(t4) || t4 == "") {
                    t4 = 0;
                    $('#txtMassTax4').val(0);
                }
                if (isNaN(t5) || t5 == "") {
                    t5 = 0;
                    $('#txtMassTax5').val(0);
                }
                if (isNaN(t6) || t6 == "") {
                    t6 = 0;
                    $('#txtMassTax6').val(0);
                }
                if (isNaN(t7) || t7 == "") {
                    t7 = 0;
                    $('#txtMassTax7').val(0);
                }

                txtTotal.val(parseFloat(t1) + parseFloat(t2) + parseFloat(t3) + parseFloat(t4) + parseFloat(t5) + parseFloat(t6) + parseFloat(t7));
            }

            $('#txtMassTax1').change(function (event) {
                sumMassTaxTotal()
            });
            $('#txtMassTax2').change(function (event) {
                sumMassTaxTotal()
            });
            $('#txtMassTax3').change(function (event) {
                sumMassTaxTotal()
            });
            $('#txtMassTax4').change(function (event) {
                sumMassTaxTotal()
            });
            $('#txtMassTax5').change(function (event) {
                sumMassTaxTotal()
            });
            $('#txtMassTax6').change(function (event) {
                sumMassTaxTotal()
            });
            $('#txtMassTax7').change(function (event) {
                sumMassTaxTotal()
            });

            function sumMassTaxTraineeTotal() {

                var txtTotal = $('#txtTaxTraineeHCTotal');
                var t1 = $('#txtMassTaxTrainee1').val();
                var t2 = $('#txtMassTaxTrainee2').val();
                var t3 = $('#txtMassTaxTrainee3').val();
                var t4 = $('#txtMassTaxTrainee4').val();
                var t5 = $('#txtMassTaxTrainee5').val();
                var t6 = $('#txtMassTaxTrainee6').val();
                var t7 = $('#txtMassTaxTrainee7').val();
                if (isNaN(t1) || t1 == "") {
                    t1 = 0;
                    $('#txtMassTaxTrainee1').val(0);
                }
                if (isNaN(t2) || t2 == "") {
                    t2 = 0;
                    $('#txtMassTaxTrainee2').val(0);
                }
                if (isNaN(t3) || t3 == "") {
                    t3 = 0;
                    $('#txtMassTaxTrainee3').val(0);
                }
                if (isNaN(t4) || t4 == "") {
                    t4 = 0;
                    $('#txtMassTaxTrainee4').val(0);
                }
                if (isNaN(t5) || t5 == "") {
                    t5 = 0;
                    $('#txtMassTaxTrainee5').val(0);
                }
                if (isNaN(t6) || t6 == "") {
                    t6 = 0;
                    $('#txtMassTaxTrainee6').val(0);
                }
                if (isNaN(t7) || t7 == "") {
                    t7 = 0;
                    $('#txtMassTaxTrainee7').val(0);
                }

                txtTotal.val(parseFloat(t1) + parseFloat(t2) + parseFloat(t3) + parseFloat(t4) + parseFloat(t5) + parseFloat(t6) + parseFloat(t7));
            }

            $('#txtMassTaxTrainee1').change(function (event) {
                sumMassTaxTraineeTotal()
            });
            $('#txtMassTaxTrainee2').change(function (event) {
                sumMassTaxTraineeTotal()
            });
            $('#txtMassTaxTrainee3').change(function (event) {
                sumMassTaxTraineeTotal()
            });
            $('#txtMassTaxTrainee4').change(function (event) {
                sumMassTaxTraineeTotal()
            });
            $('#txtMassTaxTrainee5').change(function (event) {
                sumMassTaxTraineeTotal()
            });
            $('#txtMassTaxTrainee6').change(function (event) {
                sumMassTaxTraineeTotal()
            });
            $('#txtMassTaxTrainee7').change(function (event) {
                sumMassTaxTraineeTotal()
            });

            $('#btnSubmit').click(function (event) {
                clearValidate();
                //VALIDATE
                var valAdd = "";
                //division
                var division = $("#ddlDivision").val();
                var reqType = $("#hdSelReqType").val();

                if (division == "0") {
                    valAdd += "\n- Division";
                    $("#divddlDivision").addClass("has-error");
                } else if (division == "Audit (Mass)") {
                    if (reqType.indexOf("Mass Recruitment") == -1 || reqType.indexOf("Audit") == -1) { //reqType.indexOf("Mass Recruitment : Audit") == -1
                        alert("Only Mass Recruitment : Audit for this group.");
                        //valAdd += "\n- Only Mass Recruitment : Audit for this group.";
                        $("#divReqType").addClass("has-error");
                        $("#divReqType").focus();
                    }
                } else if (division == "T&L (Mass)") {
                    if (reqType.indexOf("Mass Recruitment") == -1 || reqType.indexOf("Tax & Legal") == -1) {
                        alert("Only Mass Recruitment : Tax & Legal for this group.");
                        //valAdd += "\n- Only choose Mass Recruitment : Tax & Legal for this group.";
                        $("#divReqType").addClass("has-error");
                        $("#divReqType").focus();
                    }
                }

                //Optional value
                if (reqType.indexOf("Mass Recruitment") == -1) {
                    //Position
                    var title = $("#txtReqPosTitle").val();
                    var rank = $("#ddlRank :selected").val();
                    var rankTxt = $("#ddlRank :selected").text();
                    var period = $("#dpPeriod").val();
                    var headcount = $("#ddlHC").val();
                    var type = $("#ddlType :selected").val();
                    var fixType = $("#txtType").val();
                    var specify = $("#txtSpecific").val();
                    var sel = $("#ddlReqType :selected").text();
                    var periodTo = $("#dpPeriodTo").val();

                    clearDataAndClass();
                    //alert(sel);
                    var valAdd = "";
                    if (title == "") {
                        valAdd += "\n- Position Title";
                        //form-control has-error
                        $("#divReqPosTitle").addClass("has-error");
                    }
                    if (sel != "Trainee") {
                        if (rank == "0") {
                            valAdd += "\n- Rank";
                            $("#divRank").addClass("has-error");
                        }
                    }
                    if (period == "") {
                        valAdd += "\n- Target Period";
                        $("#divPeriod").addClass("has-error");
                    }

                    if (sel == "Trainee") {
                        //var periodTo = $("#dpPeriodTo").val();
                        if (periodTo == "") {
                            valAdd += "\n- Target Period to";
                            $("#divPeriodTo").addClass("has-error");
                        }
                    }
                    if (headcount == "") {
                        valAdd += "\n- Headcount";
                        $("#divHC").addClass("has-error");
                    }
                    if (type == "0" && fixType == "") {
                        valAdd += "\n- Type of request";
                        $("#divType").addClass("has-error");

                    } else if (type == "2" && fixType == "") { //&& fixType != "Trainee" && fixType != "Temporary Staff"
                        if (specify == "") {
                            valAdd += "\n- Please specify the name of person being replaced.";
                            $("#divSpecify").addClass("has-error");
                            $("#divType").removeClass("has-error");
                        }
                    }

                    //if (valAdd != "") {
                    //    alert("Please insert the field show below" + valAdd);
                    //}
                    var posDetail = $("#divPositionRows").html();
                    if ($("#divPositionRows").is(':empty')) {
                        valAdd += "\n- Position Detail";
                        //setPositionValidate();
                        $("#divPosition").addClass("has-error");
                    }
                    //job description & Qualification OR Attach
                    var jobDesc = $("#txtJobDesc").val();
                    var edu = $("#txtEduBack").val();
                    var attach = $("#divAttachDesp").html();

                    if (jobDesc.trim() == "" && edu.trim() == "" && attach.trim() == "") {
                        valAdd += "\n- Job Description";
                        $("#divtxtJobDesc").addClass("has-error");
                        valAdd += "\n- Qualification & Experince";
                        $("#divQualification").addClass("has-error");
                        valAdd += "\n- Attachment";
                        $("#divAddAttach").addClass("has-error");
                    } else if ((jobDesc.trim() == "" && edu.trim() != "") && attach.trim() == "") {
                        valAdd += "\n- Job Description";
                        $("#divtxtJobDesc").addClass("has-error");
                    } else if ((jobDesc.trim() != "" && edu.trim() == "") && attach.trim() == "") {
                        valAdd += "\n- Qualification & Experince";
                        $("#divQualification").addClass("has-error");
                    }

                    //if (jobDesc == "") {
                    //    valAdd += "\n- Job Description";
                    //    $("#divtxtJobDesc").addClass("has-error");
                    //}

                    //if (edu == "") {
                    //    valAdd += "\n- Qualification & Experince";
                    //    $("#divQualification").addClass("has-error");
                    //}

                    //if (attach == "") {
                    //    valAdd += "\n- Attachment";
                    //    $("#divAddAttach").addClass("has-error");
                    //}

                } else {
                    if (reqType.indexOf("Trainee") == -1) {
                        //alert("Is not trainee");
                        if (reqType.indexOf("Audit") > 0) {
                            //Audit HC mass total
                            var audHCTotal = $("#txtAuditHCTotal").val();
                            if (audHCTotal == "") {
                                valAdd += "\n- Audit total headcount";
                                $("#divtxtAuditHCTotal").addClass("has-error");
                            }
                            //HC Audit G1
                            var auditG1HC = $("#txtMassAuditG1").val();
                            if (auditG1HC == "") {
                                valAdd += "\n- Audit G1 headcount";
                                $("#divtxtMassAuditG1").addClass("has-error");
                            }
                            //HC Audit G2
                            var auditG2HC = $("#txtMassAuditG2").val();
                            if (auditG2HC == "") {
                                valAdd += "\n- Audit G2 headcount";
                                $("#divtxtMassAuditG2").addClass("has-error");
                            }
                            //HC Audit G3
                            var auditG3HC = $("#txtMassAuditG3").val();
                            if (auditG3HC == "") {
                                valAdd += "\n- Audit G3 headcount";
                                $("#divtxtMassAuditG3").addClass("has-error");
                            }
                            //HC Audit G4
                            var auditG4HC = $("#txtMassAuditG4").val();
                            if (auditG4HC == "") {
                                valAdd += "\n- Audit G4 headcount";
                                $("#divtxtMassAuditG4").addClass("has-error");
                            }
                            //HC Audit G5
                            var auditG5HC = $("#txtMassAuditG5").val();
                            if (auditG5HC == "") {
                                valAdd += "\n- Audit G5 headcount";
                                $("#divtxtMassAuditG5").addClass("has-error");
                            }

                        } else if (reqType.indexOf("Tax") > 0) {
                            //Audit HC mass total
                            var audHCTotal = $("#txtTaxHCTotal").val();
                            if (audHCTotal == "") {
                                valAdd += "\n- Tax total headcount";
                                $("#divtxtTaxHCTotal").addClass("has-error");
                            }
                            //HC Tax DMT
                            var taxDMTHC = $("#txtMassTax1").val();
                            if (taxDMTHC == "") {
                                valAdd += "\n- Tax DMT headcount";
                                $("#divtxtMassTax1").addClass("has-error");
                            }
                            //HC Tax GCMS
                            var taxGCMSHC = $("#txtMassTax2").val();
                            if (taxGCMSHC == "") {
                                valAdd += "\n- Tax GCMS headcount";
                                $("#divtxtMassTax2").addClass("has-error");
                            }
                            //HC Tax GMS
                            var taxGMSHC = $("#txtMassTax3").val();
                            if (taxGMSHC == "") {
                                valAdd += "\n- Tax GMS headcount";
                                $("#divtxtMassTax3").addClass("has-error");
                            }
                            //HC Tax INT
                            var taxINTHC = $("#txtMassTax4").val();
                            if (taxINTHC == "") {
                                valAdd += "\n- Tax INT headcount";
                                $("#divtxtMassTax4").addClass("has-error");
                            }
                            //HC Tax INTLT
                            var taxINTLTHC = $("#txtMassTax5").val();
                            if (taxINTLTHC == "") {
                                valAdd += "\n- Tax INTLT headcount";
                                $("#divtxtMassTax5").addClass("has-error");
                            }
                            //HC Tax Legal
                            var taxLegalHC = $("#txtMassTax6").val();
                            if (taxLegalHC == "") {
                                valAdd += "\n- Tax Legal headcount";
                                $("#divtxtMassTax6").addClass("has-error");
                            }
                            //HC Tax TP
                            var taxTPHC = $("#txtMassTax7").val();
                            if (taxTPHC == "") {
                                valAdd += "\n- Tax TP headcount";
                                $("#divtxtMassTax7").addClass("has-error");
                            }
                        }
                    } else {
                        //alert("Is trainee");
                        if (reqType.indexOf("Audit") > 0) {
                            //Audit HC mass total
                            var audHCTotal = $("#txtAuditTraineeHCTotal").val();
                            if (audHCTotal == "") {
                                valAdd += "\n- Audit total headcount";
                                $("#divtxtAuditTraineeHCTotal").addClass("has-error");
                            }
                            //HC Audit G1
                            var auditG1HC = $("#txtMassAuditTraineeG1").val();
                            if (auditG1HC == "") {
                                valAdd += "\n- Audit G1 headcount";
                                $("#divtxtMassAuditTraineeG1").addClass("has-error");
                            }
                            //HC Audit G2
                            var auditG2HC = $("#txtMassAuditTraineeG2").val();
                            if (auditG2HC == "") {
                                valAdd += "\n- Audit G2 headcount";
                                $("#divtxtMassAuditTraineeG2").addClass("has-error");
                            }
                            //HC Audit G3
                            var auditG3HC = $("#txtMassAuditTraineeG3").val();
                            if (auditG3HC == "") {
                                valAdd += "\n- Audit G3 headcount";
                                $("#divtxtMassAuditTraineeG3").addClass("has-error");
                            }
                            //HC Audit G4
                            var auditG4HC = $("#txtMassAuditTraineeG4").val();
                            if (auditG4HC == "") {
                                valAdd += "\n- Audit G4 headcount";
                                $("#divtxtMassAuditTraineeG4").addClass("has-error");
                            }
                            //HC Audit G5
                            var auditG5HC = $("#txtMassAuditTraineeG5").val();
                            if (auditG5HC == "") {
                                valAdd += "\n- Audit G5 headcount";
                                $("#divtxtMassAuditTraineeG5").addClass("has-error");
                            }

                        } else if (reqType.indexOf("Tax") > 0) {
                            //Audit HC mass total
                            var audHCTotal = $("#txtTaxTraineeHCTotal").val();
                            if (audHCTotal == "") {
                                valAdd += "\n- Tax total headcount";
                                $("#divtxtTaxTraineeHCTotal").addClass("has-error");
                            }
                            //HC Tax DMT
                            var taxDMTHC = $("#txtMassTaxTrainee1").val();
                            if (taxDMTHC == "") {
                                valAdd += "\n- Tax DMT headcount";
                                $("#divtxtMassTaxTrainee1").addClass("has-error");
                            }
                            //HC Tax GCMS
                            var taxGCMSHC = $("#txtMassTaxTrainee2").val();
                            if (taxGCMSHC == "") {
                                valAdd += "\n- Tax GCMS headcount";
                                $("#divtxtMassTaxTrainee2").addClass("has-error");
                            }
                            //HC Tax GMS
                            var taxGMSHC = $("#txtMassTaxTrainee3").val();
                            if (taxGMSHC == "") {
                                valAdd += "\n- Tax GMS headcount";
                                $("#divtxtMassTaxTrainee3").addClass("has-error");
                            }
                            //HC Tax INT
                            var taxINTHC = $("#txtMassTaxTrainee4").val();
                            if (taxINTHC == "") {
                                valAdd += "\n- Tax INT headcount";
                                $("#divtxtMassTaxTrainee4").addClass("has-error");
                            }
                            //HC Tax INTLT
                            var taxINTLTHC = $("#txtMassTaxTrainee5").val();
                            if (taxINTLTHC == "") {
                                valAdd += "\n- Tax INTLT headcount";
                                $("#divtxtMassTaxTrainee5").addClass("has-error");
                            }
                            //HC Tax Legal
                            var taxLegalHC = $("#txtMassTaxTrainee6").val();
                            if (taxLegalHC == "") {
                                valAdd += "\n- Tax Legal headcount";
                                $("#divtxtMassTaxTrainee6").addClass("has-error");
                            }
                            //HC Tax TP
                            var taxTPHC = $("#txtMassTaxTrainee7").val();
                            if (taxTPHC == "") {
                                valAdd += "\n- Tax TP headcount";
                                $("#divtxtMassTaxTrainee7").addClass("has-error");
                            }
                        }
                    }
                }

                if (valAdd == "") {
                    return confirm("Please verify details before submission.");
                } else {
                    alert("Please fill in :" + valAdd);
                    return false;
                }
            });

            $('#ddlReqType').change(function (event) {
                var sel = $("#ddlReqType :selected");
                setType(sel.text(), true);
            });


            if ('@Model.Id' != '0') {
                setType($("#txtReqType").val(), false);
            }
        });


        function setType(reqType, isNew) {
            clearValidate();
            $("#hdSelReqType").val(reqType);
            if (reqType == "Permanent Staff") {
                $("#divddlType").show();
                $("#divFixType").hide();
                $("#divRankHead").show();
                $("#divRank").show();
                $("#txtType").prop("readonly", true);
                if (isNew) {
                    $("#txtType").val('');
                }
                $("#divPeriodTo").hide();
                $("#divPosSpecify").show();
                $("#divJobDesc").show();
                $("#divQualification").show();
                $("#divPosition").show();
                $("#divMassDetail").hide();
            } else if (reqType == "Temporary Staff") {
                $("#divddlType").hide();
                $("#divFixType").show();
                $("#divRankHead").show();
                $("#divRank").show();
                $("#txtType").val("Temporary Staff");
                $("#txtType").prop("readonly", true);
                $("#divPeriodTo").hide();
                $("#divPosSpecify").show();
                $("#divJobDesc").show();
                $("#divQualification").show();
                $("#divPosition").show();
                $("#divMassDetail").hide();
            } else if (reqType == "Trainee") {
                $("#divddlType").hide();
                $("#divFixType").show();
                $("#divRankHead").hide();
                $("#divRank").hide();
                $("#txtType").val("Trainee");
                $("#txtType").prop("readonly", true);
                $("#divPeriodTo").show();
                $("#divPosSpecify").hide();
                $("#divJobDesc").show();
                $("#divQualification").show();
                $("#divPosition").show();
                $("#divMassDetail").hide();
            } else if (reqType == "Mass Recruitment : Audit Staff") {
                $("#divPosition").hide();
                $("#divPositionRows").hide();
                $("#divJobDesc").hide();
                $("#divQualification").hide();
                $("#divMassTOR").html('Mass (Staff)');
                $("#divMassAuditStaff").show();
                $("#divMassTaxStaff").hide();
                $("#divMassAuditTrainee").hide();
                $("#divMassTaxTrainee").hide();
                $("#divMassDetail").show();
            } else if (reqType == "Mass Recruitment : Tax & Legal Staff") {
                $("#divPosition").hide();
                $("#divPositionRows").hide();
                $("#divJobDesc").hide();
                $("#divQualification").hide();
                $("#divMassTOR").html('Mass (Staff)');
                $("#divMassAuditStaff").hide();
                $("#divMassTaxStaff").show();
                $("#divMassAuditTrainee").hide();
                $("#divMassTaxTrainee").hide();
                $("#divMassDetail").show();
            } else if (reqType == "Mass Recruitment : Audit Trainee") {
                $("#divPosition").hide();
                $("#divPositionRows").hide();
                $("#divJobDesc").hide();
                $("#divQualification").hide();
                $("#divMassTOR").html('Mass (Trainee)');
                $("#divMassAuditStaff").hide();
                $("#divMassTaxStaff").hide();
                $("#divMassAuditTrainee").show();
                $("#divMassTaxTrainee").hide();
                $("#divMassDetail").show();
            } else if (reqType == "Mass Recruitment : Tax & Legal Trainee") {
                $("#divPosition").hide();
                $("#divPositionRows").hide();
                $("#divJobDesc").hide();
                $("#divQualification").hide();
                $("#divMassTOR").html('Mass (Trainee)');
                $("#divMassAuditStaff").hide();
                $("#divMassTaxStaff").hide();
                $("#divMassAuditTrainee").hide();
                $("#divMassTaxTrainee").show();
                $("#divMassDetail").show();
            }
        }

        $('#ddlType').change(function (event) {
            var sel = $("#ddlType :selected");
            //alert(sel.text());
            if(sel.text() == "Replacement"){
                //divPosSpecify
                $('#divPosSpecify').show();
            } else {
                $('#divPosSpecify').hide();
            }
        });

        //Modal
        $('#divCandidate').dialog({
            autoOpen: false,
            height: 1800,
            width: 800,
            modal: true,
            closeOnEscape: false,
            open: function (event, ui) { $(this).parent().children().children('.ui-dialog-titlebar-close').hide(); },
            close: function (event, ui) {
                $(this).dialog("close");
              //  hideLoading();
            }
        });

        function addCandidateClick(value, prid) {
            OpenModal();
            var url = '@Html.Raw(Url.Action("Candidate", "PR", new { id = -1, pr = -2 }))';
            url = url.replace("-1", value);
            url = url.replace("-2", prid);
            $('#divCandidate').load(url);
            $('#hdModalIsUse').val("1");
         //   showLoading();
        }

        function OpenModal(value, prid) {
          //  showLoading();
            //$('#exampleModal').modal('show');

            $('#divBody').html('');

            $.ajax({
                url: '@Url.Action("Candidate", "PR")',
                dataType: 'html',
                cache: false,
                data: { id: value, pr: prid },
                success: function (data) {
                    $('#divBody').html(data);
                }, complete: function (jqXHR, status) {//finaly
                    $('#exampleModal').modal({ backdrop: 'static', keyboard: false })
                  //  hideLoading();
                }
            });


            @*var url = '@Html.Raw(Url.Action("Candidate", "PR", new { id = -1, pr = -2 }))';
            url = url.replace("-1", value);
            url = url.replace("-2", prid);
            $('#divBody').load(url);*@
            $('#hdModalIsUse').val("1");
        }

        @*function completePR(prid) {
            $.ajax({
                typr: "GET",
                url: '@Url.Action("Complete", "PR")',
                data: prid,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {
                    alert(response.alert);
                },
                error: function () {
                    alert('Fail to complete.');
                    clearDataAndClass();
                }
            });
        }*@

        function closeCandidate() {
            $('#divBody').html('');
            //$('#divCandidate').dialog("close");
            $('#exampleModal').modal("hide")
           // hideLoading();
        }

        function printData() {
            var url = '@Html.Raw(Url.Action("printPR", "PR", new { id = -1 }))';
            url = url.replace("-1", @Model.Id);
            //$('#divPrintTmp').load(url);

            //var divToPrint = document.getElementById("divPrintTmp");
            newWin = window.open(url);
            //var temp = divToPrint.outerHTML;

            //.replace('class="table table-bordered"', 'border="1" cellpadding="0" cellspacing="0" style="border: 1px solid #000;" width="100%"');
            //temp = temp.replace('class="table table-bordered table-striped"', 'border="1" cellpadding="0" cellspacing="0" style="border: 1px solid #000;" width="100%"');
            //temp = temp.replace('class="table table-bordered table-striped table-condensed"', 'border="1" cellpadding="0" cellspacing="0" style="border: 1px solid #000;" width="100%"');
            //+ "<link rel='stylesheet' type='text/css' href='~/Content/bootstrap.min.css'>"

            //newWin.document.write('<html><head></head><body>test<br>' + temp + '</body></html>')
            //newWin.document.write(temp);
            //newWin.focus();
            //newWin.print();
            //newWin.close();

            //window.print();
        }
    </script>
}
<!-- /.content -->